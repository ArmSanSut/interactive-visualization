:root{--bg: #0b1020;--bg2: #0f172a;--page: #f6f8fb;--panel: #ffffff;--ink: #111827;--muted: #6b7280;--border: #e6e8ee;--ring: #94a3b8;--primary: #2563eb;--primary-ink: #ffffff;--chip: #eef2ff;--yes: #2ca02c;--no: #d62728;--oth: #999;--gold: #ffcc00;--radius: 14px;--shadow: 0 8px 24px rgba(2, 6, 23, .06);--font-main: "Inter", "Noto Sans Thai", sans-serif}html,body{margin:0;font-family:var(--font-main)!important;color:#111827;background:var(--page);scroll-behavior:smooth}#controls{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:16px;align-items:flex-start;padding:18px;margin:16px;background:linear-gradient(180deg,#f2f0ef 0% 100%);border-radius:var(--radius);box-shadow:var(--shadow)}.header{background:linear-gradient(135deg,#000 0% 100%);color:#fff;padding:30px 40px;display:flex;justify-content:space-between;align-items:center}.header h1{font-size:35px;font-weight:600}#controls .block{grid-column:span 12 / auto;background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px 16px 14px;min-width:0}#controls .block.wide{grid-column:span 12 / auto}@media(min-width:900px){#controls .block{grid-column:span 6 / auto}#controls .block.wide{grid-column:span 12 / auto}}.fieldlabel{font-weight:700;font-size:14px;margin-bottom:10px;color:#0f172a;display:flex;align-items:center;gap:8px}.fieldlabel:before{content:"";width:4px;height:24px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:2px}input[type=date],input[type=text],select,button{font-size:14px}input[type=date],input[type=text],select{width:100%;box-sizing:border-box;background:#fff;border:1px solid var(--border);border-radius:12px;padding:10px 12px;color:#010611!important;opacity:.9;outline:none;transition:box-shadow .15s ease,border-color .15s ease,transform .02s ease}input[type=date]:focus,input[type=text]:focus,select:focus{border-color:transparent;box-shadow:0 0 0 3px #2563eb40}#billSearch{padding-left:40px;background:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%2394a3b8' viewBox='0 0 24 24'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m21 21-4.35-4.35m1.85-5.15a7 7 0 1 1-14 0 7 7 0 0 1 14 0z'/></svg>") no-repeat 12px center / 18px 18px,#fff}#partySel,#mpSel{min-height:20px;background:#fff}.hint{color:var(--muted);font-size:12px;margin-top:8px}#legendBar{display:flex;gap:18px;align-items:center;justify-content:center;color:#6a98d9;font-size:13px;margin:10px 16px 0}.legend-dot{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;background:#fff;border:1px solid var(--border);border-radius:999px;box-shadow:var(--shadow)}.legend-chip{width:14px;height:6px;border-radius:999px;display:inline-block}#status{text-align:center;color:var(--muted);font-size:12px;margin:8px 16px 0;white-space:pre-wrap}#mainWrap{flex:1;margin:0;min-height:70vh}#mainGraph{height:100%}#partyLegend{position:absolute;right:8%;top:15%;z-index:5;background:#fffe;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid var(--border);border-radius:12px;padding:12px 14px;box-shadow:var(--shadow);max-height:70vh;overflow-y:auto;min-width:220px;transition:all .25s ease}#partyLegend .title{font-weight:700;font-size:13px;margin-bottom:8px}#partyLegend .item{display:flex;align-items:center;gap:8px;padding:4px 6px;border-radius:8px}#partyLegend:hover{box-shadow:0 6px 20px #0f172a26;transform:translateY(-1px)}.chip{width:16px;height:10px;border-radius:3px;display:inline-block;border:1px solid #0001}#miniWrap{margin:24px 16px;padding:16px;background:var(--panel);border-radius:var(--radius);box-shadow:var(--shadow)}#miniTitle{font-weight:700;margin-bottom:12px;color:var(--ink)}#miniScroller{overflow:visible;width:100%}#miniGraphs{display:grid;grid-template-columns:repeat(auto-fit,minmax(560px,580px));gap:20px;place-content:center;align-items:start;width:100%;box-sizing:border-box}#miniGraphs svg{overflow:visible}.card{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:10px 12px 14px;display:inline-block;width:100%;width:560px;position:relative;z-index:2}.card .title{font-weight:700;padding:6px 2px 10px;border-bottom:1px dashed var(--border);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;transition:all .25s ease;cursor:pointer;position:relative;height:40px}.card .title:hover{-webkit-line-clamp:unset;max-height:400px;white-space:normal;background:#fffffff2;z-index:10;padding:10px 8px 12px;border-radius:8px;box-shadow:0 4px 12px #0000001a}button{border:none;border-radius:12px;padding:10px 14px;background:#f3f4f6;color:#111827;cursor:pointer;transition:transform .02s ease,filter .15s ease,background .15s ease}button:hover{filter:brightness(.98)}button:active{transform:translateY(1px)}#applyBtn{background:var(--primary);color:var(--primary-ink);box-shadow:0 6px 16px #2563eb40}#applyBtn:hover{filter:brightness(1.03)}#applyBtn:focus{outline:none;box-shadow:0 0 0 3px #2563eb59}#resetBtn{background:#f8fafc}#reloadBtn{background:#eef2ff}.enforced-glow{filter:drop-shadow(0 0 4px rgba(255,204,0,.75))}.faded{opacity:.12;transition:opacity .25s ease}.tooltip{position:fixed;pointer-events:none;visibility:hidden;background:#0f172af2;color:#fff;padding:8px 10px;border-radius:8px;font:12px/1.35 ui-sans-serif,system-ui,-apple-system,Noto Sans Thai,Noto Sans,sans-serif;max-width:62vw;white-space:pre-wrap;z-index:1000}.legend-chip{display:inline-block}select option{color:#111827!important;opacity:.9;background:#fff!important}#visMainContainer{display:grid;grid-template-columns:30% 70%;gap:16px;align-items:start;padding:10px 16px;box-sizing:border-box}#filtersPanel{height:100vh;overflow-y:auto;background:var(--page);padding-top:10%;padding-right:10px;display:flex;flex-direction:column;gap:12px}#interactionArea{position:relative;min-height:70vh;display:flex;flex-direction:column;overflow:visible;padding-left:0}#mainWrap{flex:1;position:relative;margin:0;width:100%;height:100%;display:flex;justify-content:flex-start}#mainGraph{width:98%;height:80vh;display:block;border-radius:15px;margin-left:0}.compare-modal-backdrop{position:fixed;inset:0;background:#0f172a73;display:flex;align-items:center;justify-content:center;z-index:9999}.compare-modal-shell{width:min(1200px,96vw);height:min(780px,90vh);background:#f9fafb;border-radius:18px;box-shadow:0 18px 45px #0f172a59;display:flex;flex-direction:column;overflow:hidden}.compare-modal-header{padding:14px 18px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e5e7eb;background:linear-gradient(135deg,#a7c5ff40,#ffc2e21f)}.compare-modal-title{font-weight:700;font-size:15px}.compare-modal-sub{font-size:12px;color:#6b7280;margin-top:2px}.compare-modal-close{border:1px solid #e5e7eb;background:#fff;border-radius:999px;padding:6px 10px;font-size:13px;cursor:pointer}.compare-modal-close:hover{background:#fee2e2}.compare-modal-body{flex:1;padding:10px}@media(max-width:900px){#visMainContainer{grid-template-columns:1fr}#filtersPanel{height:auto;border-right:none;border-bottom:1px solid var(--border)}#interactionArea{height:auto}#partyLegend{position:static;margin:12px auto;width:90%;max-height:none;transform:none}}.cmp-overlay{position:fixed!important;background:#0f172a52;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:80;padding:3px;max-width:none!important;width:100vw!important;inset:0!important;transform:none!important;position:fixed}.cmp-modal{max-width:95vw!important;width:95vw!important;height:92vh;max-height:92vh;overflow:hidden;display:flex;flex-direction:column;background:#fff;border-radius:18px;box-shadow:0 20px 50px #0000002e}.cmp-modal-header{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid #e2e8f0;background:linear-gradient(120deg,#a7c5ff6b,#fce7f366),#f5f7ff;flex-shrink:0}.cmp-modal-body{flex:1;overflow-y:auto;padding:16px 20px 24px;min-height:0}.cmp-brand{display:flex;align-items:center;gap:10px}.brand-badge{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#a7c5ff,#ffc2e2);box-shadow:0 2px 6px #586f8a1f,0 14px 24px #586f8a14}.brand-title{font-weight:800;font-size:18px;letter-spacing:.2px}.brand-sub{font-size:12px;color:#6b7280}.cmp-header-right{display:flex;align-items:center;gap:12px}.cmp-mp-name{font-size:20px;font-weight:700;color:#111827}.cmp-close-btn{border:1px solid #e5e7eb;border-radius:999px;background:#fff;padding:6px 10px;cursor:pointer;font-weight:700}.cmp-close-btn:hover{background:#fee2e2}.cmp-loading,.cmp-error{padding:10px 14px;border-radius:10px;font-size:13px;margin-bottom:8px}.cmp-loading{background:#eff6ff;color:#1d4ed8}.cmp-error{background:#fef2f2;color:#b91c1c}:root{--bg: #fafbff;--bg-accent-1: #f6f9ff;--bg-accent-2: #fff7fb;--card: #ffffff;--text: #1f2937;--muted: #6b7280;--border: #e9eef6;--ring: #8bb8ff;--p-blue: #a7c5ff;--p-pink: #ffc2e2;--p-lime: #d6f7b0;--p-teal: #b8f0e3;--p-lav: #d9ccff;--p-sun: #ffe8a3;--p-coral: #ffd8cc;--btn-bg: #8bb8ff;--btn-fg: #0b1530;--btn-bg-alt: #ffffff;--btn-fg-alt: #1f2937;--btn-bd-alt: #dfe7f2;--shadow-1: 0 2px 6px rgba(88, 111, 138, .12), 0 14px 24px rgba(88, 111, 138, .08);--shadow-2: 0 18px 40px rgba(88, 111, 138, .16);--focus: 0 0 0 3px rgba(139, 184, 255, .45)}.page-inside-modal{padding:0 0 16px;max-width:none;height:100%;display:flex;flex-direction:column}.page-inside-modal .grid{width:100%;max-width:100%;margin:0;padding:0 12px;box-sizing:border-box;display:grid;grid-template-columns:1fr 1fr;gap:24px;flex:1;min-height:0;align-items:stretch}@media(max-width:1100px){.page-inside-modal .grid{grid-template-columns:1fr;height:auto}}.card{height:100%;min-height:0;overflow:hidden;display:flex;flex-direction:column;background:var(--card);border-radius:14px;border:1px solid var(--border);box-shadow:var(--shadow-1);margin-bottom:0;width:95%!important;max-width:95%!important}.card-header{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,rgba(167,197,255,.22),transparent 60%);flex-shrink:0}.card-title{font-size:16px;font-weight:800;letter-spacing:.2px;display:flex;align-items:center;gap:10px}.card-title .dot{width:10px;height:10px;border-radius:999px;background:radial-gradient(circle at 40% 30%,var(--p-blue),var(--p-pink));box-shadow:0 0 0 2px #a7c5ff59}.card-subtle{color:var(--muted);font-size:12px}.card-body{flex:1;overflow-y:auto;overflow-x:hidden;position:relative;padding:12px 40px 50px 8px!important;min-height:0}.graph-wrap{width:100%;height:100%;min-height:500px;overflow:visible;position:relative;border:1px solid var(--border);border-radius:14px;background:linear-gradient(180deg,rgba(167,197,255,.2),transparent 30%),linear-gradient(0deg,#ffffff8c,#ffffff8c),var(--card);padding:20px 20px 24px;box-shadow:inset 0 1px #ffffff8c}svg{display:block;margin-bottom:16px}.zoom-ui{position:absolute;right:10px;top:10px;z-index:5;display:flex;gap:6px;background:var(--card);border:1px solid var(--border);border-radius:999px;padding:6px;box-shadow:var(--shadow-1)}.zoom-ui button{border:1px solid var(--border);border-radius:999px;padding:6px 10px;font-weight:800;background:var(--card);color:var(--text);cursor:pointer}.zoom-ui button:hover{background:#a7c5ff33}.spoke{stroke:#aeb6c7;stroke-opacity:.7;pointer-events:all}.node{pointer-events:all}.node text{font-size:12px;fill:#1f2937;pointer-events:all}.photo-ring{fill:none;stroke:#fff;stroke-width:2px;pointer-events:none}.photo-ring.center{stroke-width:3px}.selected-ring{stroke:#334155;stroke-width:3px;fill:none;pointer-events:none}.label-b{font-size:12px;pointer-events:all;paint-order:stroke;stroke:#fff;stroke-width:3px}#nodeCard{position:absolute;display:none;max-width:min(92vw,520px);width:420px;background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow-2);padding:12px 12px 10px;z-index:9;pointer-events:auto}.card-head{display:flex;align-items:center;gap:10px;margin-bottom:6px}.card-head img{width:44px;height:44px;border-radius:50%;object-fit:cover;border:1px solid var(--border)}.card-title-pop{font-weight:900;font-size:14px;letter-spacing:.2px}.card-sub{font-size:12px;color:var(--muted)}.card-close{margin-left:auto;border:1px solid var(--border);border-radius:999px;background:var(--card);padding:6px 10px;cursor:pointer;font-weight:800}.card-close:hover{background:#ffc2e240}.timeline-wrap{border:1px solid var(--border);border-radius:12px;padding:10px;margin-top:8px;background:linear-gradient(180deg,rgba(255,236,199,.28),transparent 80%)}.timeline-legend{font-size:11px;color:var(--muted);margin-top:6px}.timeline-table{width:100%;border-collapse:collapse;margin-top:8px;font-size:12px}.timeline-table th,.timeline-table td{border:1px solid var(--border);padding:6px 8px;text-align:left;vertical-align:top}.timeline-table th{background:#ffecc773;font-weight:800}.timeline-table tbody tr:nth-child(odd){background:#b8d1ff29}.footer{margin-top:12px;color:var(--muted);font-size:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}.pill{padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:var(--card);display:inline-flex;align-items:center;gap:6px}.pill-dot{width:8px;height:8px;border-radius:999px;background:var(--p-teal)}.pill-dot.warn{background:var(--p-sun)}.legend{font-size:11px;color:var(--muted);display:flex;align-items:center;gap:8px;margin:16px 8px 12px;padding-bottom:12px}.grad-bar{width:160px;height:10px;border-radius:6px;border:1px solid var(--border);background:linear-gradient(90deg,#b8d1ff,#cdbdff,#b7f2ea,#e7f7c6,#ffeebd,#ffd8cc)}#peers{display:block;padding:16px 0;margin-bottom:16px}
